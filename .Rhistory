fSTAIS <- "STAI-S_1"
lSTAIS <- "STAI-S_20"
delay <- dplyr::select(delay, idcol, fEQ:lEQ, fSTAIS:lSTAIS, fNEO:lNEO)
names(delay) <- c("subjID", EQ_names, STAIS_names, NEO_names)
delay$Study <- 1
delay <- delay[-1,]
}
### master dataframe ###
master <- rbind.fill(long, stroop, stress, psychphys, R01, timedeadline,
health, eldpri, supp, emoreg, exer, delay)
### now match up with val bias and RT from combined sheet ###
combined_bias <- read.xlsx("~/Documents/Nick-Grad/Neta_Lab/Combined_Dec5.xlsx", sheet = 2)
combined_bias <- combined_bias[, 1:27]
names(combined_bias)[3]<-"StudyNum"
combined_bias$MergeVar <- paste(combined_bias$StudyNum, combined_bias$Participant.ID, sep = ";")
master$MergeVar <- paste(master$Study, master$subjID, sep = ";")
final <- merge(master, combined_bias, by = "MergeVar")
count(combined_bias, StudyNum)
count(master, Study)
setdiff(combined_bias$MergeVar, master$MergeVar)
### read RT data file ###
data <- read.csv("RT_Analyses/dataRT.csv")
### create best column names ###
prefix <- "STAIS"
suffix <- 1:20
STAIS_names <- paste(prefix, suffix, sep = "")
prefix <- "EQ"
suffix <- 1:28
EQ_names <- paste(prefix, suffix, sep = "")
prefix <- "EQ"
suffix <- 1:40
EQ40_names <- paste(prefix, suffix, sep = "")
prefix <- "NEO"
suffix <- 1:60
NEO_names <- paste(prefix, suffix, sep = "")
prefix <- "NEO"
suffix <- c(1, 2, 6, 7, 11, 12, 16, 17, 21, 22, 26, 27, 31, 32,
36, 37, 41, 42, 46, 47, 51, 52, 56, 57)
NE_only_names <- paste(prefix, suffix, sep = "")
prefix <- "IRQ"
suffix <- 1:16
IRQ_names <- paste(prefix, suffix, sep = "")
prefix <- "NEO"
suffix <- 1:24
NE_long17_names <- paste(prefix, suffix, sep = "")
### longitudinal ###
{
### read in the Fall 2017 longitudinal subjects ###
long17 <- read.csv("raw_surveys/longitudinal_F17subs.csv")
idcol <- "Q1"
fEQ <- "Q.EQ_1"
lEQ <- "Q.EQ_28"
fIRQ <- "Q.IRQ_1"
lIRQ <- "Q.IRQ_16"
fSTAIS <- "Q.STAIS_1"
lSTAIS <- "Q.STAIS_20"
fNEO <- "Q.NEO_1"
lNEO <- "Q.NEO_24"
long17 <- dplyr::select(long17, idcol, fEQ:lEQ, fIRQ:lIRQ, fNEO:lNEO, fSTAIS:lSTAIS)
### clean up this mess ###
### row 59 is blank ###
long17 <- long17[-59,]
### incorrectly entered ID... fix ###
long17$Q1 <- as.character(long17$Q1)
long17[13,1] <-  "24"
long17[29,1] <-  "35"
long17 <- long17[-c(1:2),]
row.names(long17) <- NULL
### read in the written survey subs ###
long17.paper <- read.xlsx("raw_surveys/longitudinal_F17_papersurveys.xlsx", sheet = 1)
long17.paper <- dplyr::select(long17.paper, idcol, fEQ:lEQ, fIRQ:lIRQ, fNEO:lNEO, fSTAIS:lSTAIS)
long17.paper <- long17.paper[-c(1:2),]
row.names(long17.paper) <- NULL
### read in the Fall 2018 longitudinal subjects ###
long18 <- read.csv("raw_surveys/longitudinal_F18subs.csv")
long18 <- dplyr::select(long18, idcol, fEQ:lEQ, fIRQ:lIRQ, fNEO:lNEO, fSTAIS:lSTAIS)
long18 <- long18[-c(1:2),]
row.names(long18) <- NULL
### merge together ###
long17 <- rbind(long17.paper, long17)
long <- rbind(long17, long18)
names(long) <- c("subjID", EQ_names, IRQ_names, NE_only_names, STAIS_names)
long$Study <- 16
rm(long17, long17.paper, long18)
}
### read in the stroop subjects ###
{
stroop <- read_xlsx("raw_surveys/Stroop_Survey_Cleaned_20181106.xlsx", sheet = 1)
idcol <- "ID-Recode"
fSTAIS <- 'STAI 1 "I feel calm"'
lSTAIS <- 'STAI 20 "I feel pleasant"'
stroop <- dplyr::select(stroop, idcol, fSTAIS:lSTAIS)
names(stroop) <- c("subjID", STAIS_names)
stroop$Study <- 19
}
### read in the stress subjects ###
{
stress.stai <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 4)
features <- c(sprintf("stai%02d", seq(0,20)))
colnames(stress.stai) <- features
stress.stai <- stress.stai %>% rename(Participant = stai00)
stress.stai <- stress.stai[-1,]
stress.NEO <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 10)
features <- c(sprintf("neo%02d", seq(0,60)))
colnames(stress.NEO) <- features
stress.NEO <- stress.NEO %>% rename(Participant = neo00)
stress.NEO <- stress.NEO[-1,]
stress.EQ <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 11)
features <- c(sprintf("eq%02d", seq(0,28)))
colnames(stress.EQ) <- features
stress.EQ <- stress.EQ %>% rename(Participant = eq00)
stress <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 1)
stress <- merge(stress, stress.stai, by = "Participant")
stress <- merge(stress, stress.NEO, by = "Participant")
stress <- merge(stress, stress.EQ, by = "Participant")
stress <- stress[, -c(2:5)]
names(stress) <- c("subjID", STAIS_names, NEO_names, EQ_names)
stress$Study <- 7
### clean up workspace ###
rm(stress.stai, stress.EQ, stress.NEO)
}
stress.stai <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 4)
features <- c(sprintf("stai%02d", seq(0,20)))
colnames(stress.stai) <- features
stress.stai <- stress.stai %>% rename(Participant = stai00)
stress.stai <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 4)
features <- c(sprintf("stai%02d", seq(0,20)))
colnames(stress.stai) <- features
# stress.stai <- stress.stai %>% rename(Participant = stai00)
stress.stai <- stress.stai[-1,]
stress.stai <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 4)
features <- c(sprintf("stai%02d", seq(0,20)))
View(stress.stai)
# stress.stai <- stress.stai %>% rename(Participant = stai00)
stress.stai <- stress.stai[-1,]
colnames(stress.stai) <- features
stress.NEO <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 10)
features <- c(sprintf("neo%02d", seq(0,60)))
colnames(stress.NEO) <- features
stress.NEO <- stress.NEO %>% rename(Participant = neo00)
stress.EQ <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 11)
features <- c(sprintf("eq%02d", seq(0,28)))
colnames(stress.EQ) <- features
View(stress.EQ)
### read in the stress subjects ###
{
stress.stai <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 4)
features <- c(sprintf("stai%02d", seq(0,20)))
colnames(stress.stai) <- features
# stress.stai <- stress.stai %>% rename(Participant = stai00)
stress.stai <- stress.stai[-1,]
stress.NEO <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 10)
features <- c(sprintf("neo%02d", seq(0,60)))
colnames(stress.NEO) <- features
# stress.NEO <- stress.NEO %>% rename(Participant = neo00)
stress.NEO <- stress.NEO[-1,]
stress.EQ <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 11)
features <- c(sprintf("eq%02d", seq(0,28)))
colnames(stress.EQ) <- features
# stress.EQ <- stress.EQ %>% rename(Participant = eq00)
stress.EQ <- stress.EQ[-1,]
stress <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 1)
stress <- merge(stress, stress.stai, by = "Participant")
stress <- merge(stress, stress.NEO, by = "Participant")
stress <- merge(stress, stress.EQ, by = "Participant")
stress <- stress[, -c(2:5)]
names(stress) <- c("subjID", STAIS_names, NEO_names, EQ_names)
stress$Study <- 7
### clean up workspace ###
rm(stress.stai, stress.EQ, stress.NEO)
}
stress.stai <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 4)
stress.stai <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 4)
features <- c(sprintf("stai%02d", seq(0,20)))
colnames(stress.stai) <- features
stress.stai <- stress.stai %>% rename(stai00 = Participant)
stress.stai <- stress.stai %>% rename(stai00 = "Participant")
stress.stai <- stress.stai %>% dplyr::rename(stai00 = Participant)
names(stress.stai)[1]<-"Participant"
### read in the stress subjects ###
{
stress.stai <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 4)
features <- c(sprintf("stai%02d", seq(0,20)))
colnames(stress.stai) <- features
names(stress.stai)[1]<-"Participant"
stress.stai <- stress.stai[-1,]
stress.NEO <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 10)
features <- c(sprintf("neo%02d", seq(0,60)))
colnames(stress.NEO) <- features
names(stress.NEO)[1]<-"Participant"
stress.NEO <- stress.NEO[-1,]
stress.EQ <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 11)
features <- c(sprintf("eq%02d", seq(0,28)))
colnames(stress.EQ) <- features
names(stress.EQ)[1]<-"Participant"
stress.EQ <- stress.EQ[-1,]
stress <- read.xlsx("raw_surveys/StressSurveys.xlsx", sheet = 1)
stress <- merge(stress, stress.stai, by = "Participant")
stress <- merge(stress, stress.NEO, by = "Participant")
stress <- merge(stress, stress.EQ, by = "Participant")
stress <- stress[, -c(2:5)]
names(stress) <- c("subjID", STAIS_names, NEO_names, EQ_names)
stress$Study <- 7
### clean up workspace ###
rm(stress.stai, stress.EQ, stress.NEO)
}
### psychophys ###
{
### read in psychophys subjects ###
psychphys.a <- read.xlsx("raw_surveys/PsychoPhysSurveys_allRaw.xlsx", sheet = 2)
### remove the first column -- no useful info ###
psychphys.a <- psychphys.a[,-1]
### transpose ###
psychphys.a <- as.data.frame(t(psychphys.a))
### reset row names ###
row.names(psychphys.a) <- NULL
### rename columns ###
colnames(psychphys.a) <- as.character(unlist(psychphys.a[1,]))
### remove duplicate row ###
psychphys.a <- psychphys.a[-1,]
### add subjIDs ###
psychphys.a$subjID <- 1:(nrow(psychphys.a))
### pull interesting data ###
psychphys.a <- psychphys.a[, c(302, 38:117,138:165)]
### give unique marker ###
psychphys.a$group <- 1
### rename columns ###
names(psychphys.a) <- c("subjID", NEO_names, STAIS_names, EQ_names, "group")
### read in the second set of subs ###
psychphys.b <- read.xlsx("raw_surveys/PsychoPhysSurveys_allRaw.xlsx", sheet = 3)
### transpose ###
psychphys.b <- as.data.frame(t(psychphys.b))
### reset row names ###
row.names(psychphys.b) <- NULL
### rename columns ###
colnames(psychphys.b) <- as.character(unlist(psychphys.b[1,]))
### remove duplicate row ###
psychphys.b <- psychphys.b[-1,]
### add subjIDs ###
psychphys.b$subjID <- 33:(nrow(psychphys.b)+32)
### pull interesting data ###
psychphys.b <- psychphys.b[, c(266, 1:20, 51:102)]
### give unique marker ###
psychphys.b$group <- 2
### rename columns ###
names(psychphys.b) <- c("subjID", STAIS_names, NE_only_names, EQ_names, "group")
### might want to nullify row and column names... come back to this ###
psychphys <- rbind.fill(psychphys.a, psychphys.b)### join psychphys.a and .b
psychphys$Study <- 6
rm(psychphys.a, psychphys.b)
}
### time deadline ###
{
### read in Time Deadline subjects ###
timedeadline <- read.xlsx("raw_surveys/TimeDeadlineQualtrics.xlsx", sheet = 1)
idcol <- "subjID"
fEQ <- "EQ40_5"
lEQ <- "EQ40_44"
fNEO <- "NEO_FFI_1"
lNEO <- "NEO_FFI_60"
timedeadline <- dplyr::select(timedeadline, idcol, fEQ:lEQ, fNEO:lNEO)
names(timedeadline) <- c("subjID", EQ40_names, NEO_names)
timedeadline$Study <- 8
timedeadline <- timedeadline[-1, ]
}
### Elderly priming ###
{
### read in the elderly priming subjects ###
### Elderly priming 1 ###
eldpri1 <- read.xlsx("raw_surveys/EP1Qualtrics.xlsx", sheet = 1)
idcol <- "ID1"
fEQ <- "EQ28_1"
lEQ <- "EQ28_28"
fNEO <- "NEO-N&E_1"
lNEO <- "NEO-N&E_24"
eldpri1 <- dplyr::select(eldpri1, idcol, fEQ:lEQ, fNEO:lNEO)
names(eldpri1) <- c("subjID", EQ_names, NE_only_names)
eldpri1$Study <- 2
eldpri1 <- eldpri1[-1, ]
### Elderly priming 2 ###
eldpri2 <- read.xlsx("raw_surveys/EP2Qualtrics.xlsx", sheet = 1)
idcol <- "ID1"
fEQ <- "EQ28_1"
lEQ <- "EQ28_28"
fNEO <- "NEO-N&E_1"
lNEO <- "NEO-N&E_24"
eldpri2 <- dplyr::select(eldpri2, idcol, fEQ:lEQ, fNEO:lNEO)
names(eldpri2) <- c("subjID", EQ_names, NE_only_names)
eldpri2$Study <- 3
eldpri2 <- eldpri2[-1, ]
### Elderly priming 3 ###
eldpri3 <- read.xlsx("raw_surveys/EP3Qualtrics.xlsx", sheet = 1)
idcol <- "QID1_TEXT"
fEQ <- "QID53_4"
lEQ <- "QID53_31"
fNEO <- "QID54_4"
lNEO <- "QID54_27"
eldpri3 <- dplyr::select(eldpri3, idcol, fEQ:lEQ, fNEO:lNEO)
names(eldpri3) <- c("subjID", EQ_names, NE_only_names)
eldpri3$Study <- 4
eldpri3 <- eldpri3[-1, ]
eldpri <- rbind.fill(eldpri1, eldpri2, eldpri3)
}
### R01 ###
{
### read in young adult subjects ###
ya.1 <- read.xlsx("raw_surveys/YA 001-158.xlsx", sheet = 1)
ya.1 <- ya.1[, -1]
idcol <- "ID"
fSTAIS <- "STAI-S_1"
lSTAIS <- "STAI-S_20"
fEQ <- "EQ28_1"
lEQ <- "EQ28_28"
fNEO <- "NEO_1"
lNEO <- "NEO_60"
ya.1 <- dplyr::select(ya.1, idcol, fEQ:lEQ, fNEO:lNEO, fSTAIS:lSTAIS)
names(ya.1) <- c("subjID", EQ_names, NEO_names, STAIS_names)
ya.1 <- ya.1[-c(1:3), ]
ya.1$Study <- 13
ya.2 <- read.xlsx("raw_surveys/YA 001-158.xlsx", sheet = 2)
ya.2 <- ya.2[, -1]
idcol <- "ID"
fSTAIS <- "STAI-S_1"
lSTAIS <- "STAI-S_20"
fEQ <- "EQ28_1"
lEQ <- "EQ28_28"
fNEO <- "NEO_1"
lNEO <- "NEO_60"
ya.2 <- dplyr::select(ya.2, idcol, fEQ:lEQ, fNEO:lNEO, fSTAIS:lSTAIS)
names(ya.2) <- c("subjID", EQ_names, NEO_names, STAIS_names)
ya.2 <- ya.2[-c(1:3), ]
ya.2$Study <- 13
ya.3 <- read.xlsx("raw_surveys/YA 001-158.xlsx", sheet = 3)
ya.3 <- ya.3[, -1]
idcol <- "ID"
fSTAIS <- "STAI-S_1"
lSTAIS <- "STAI-S_20"
fEQ <- "EQ28_1"
lEQ <- "EQ28_28"
fNEO <- "NEO_1"
lNEO <- "NEO_60"
ya.3 <- dplyr::select(ya.3, idcol, fEQ:lEQ, fNEO:lNEO, fSTAIS:lSTAIS)
names(ya.3) <- c("subjID", EQ_names, NEO_names, STAIS_names)
ya.3 <- ya.3[-c(1:3), ]
ya.3$Study <- 13
ya <- rbind(ya.1, ya.2, ya.3)
rm(ya.1, ya.2, ya.3)
### read in older adult subjects ###
oa.1 <- read.xlsx("raw_surveys/OA 001-087.xlsx", sheet = 1)
idcol <- "X19"
fSTAIS <- "STAI-S_1"
lSTAIS <- "STAI-S_20"
fEQ <- "EQ28_1"
lEQ <- "EQ28_28"
fNEO <- "NEO_1"
lNEO <- "NEO_60"
oa.1 <- dplyr::select(oa.1, idcol, fEQ:lEQ, fNEO:lNEO, fSTAIS:lSTAIS)
names(oa.1) <- c("subjID", EQ_names, NEO_names, STAIS_names)
oa.1 <- oa.1[-c(1:3), ]
oa.1$Study <- 14
oa.2 <- read.xlsx("raw_surveys/OA 001-087.xlsx", sheet = 2)
idcol <- "Q1"
fSTAIS <- "Q9_1"
lSTAIS <- "Q9_20"
fEQ <- "Q12_1"
lEQ <- "Q12_28"
fNEO <- "Q11_1"
lNEO <- "Q11_60"
fIRQ <- "Q17_1"
lIRQ <- "Q17_14" ### note that the column #'s are out of order
oa.2 <- dplyr::select(oa.2, idcol, fEQ:lEQ, fNEO:lNEO, fSTAIS:lSTAIS, fIRQ:lIRQ)
names(oa.2) <- c("subjID", EQ_names, NEO_names, STAIS_names, IRQ_names)
oa.2 <- oa.2[-c(1:2), ]
oa.2$Study <- 14
oa <- rbind.fill(oa.1, oa.2)
rm(oa.1, oa.2)
R01 <- rbind.fill(ya, oa)
rm(ya, oa)
}
### Health & Pol Pilot ###
{
### read in the health & pol subjects ###
health1 <- read.csv("raw_surveys/Health_Pol_Pilot_V1.csv")
idcol <- "MTurkCode"
fIRQ <- "Q387_1"
lIRQ <- "Q387_16"
health1 <- select(health1, idcol, fIRQ:lIRQ)
names(health1) <- c("subjID", IRQ_names)
health1 <- health1[-c(1:2), ]
health1$Study <- 9
health2 <- read.csv("raw_surveys/Health_Pol_Pilot_V2.csv")
idcol <- "MTurkCode"
fIRQ <- "Q387_1"
lIRQ <- "Q387_16"
fSTAIS <- "Q395_1"
lSTAIS <- "Q395_20"
health2 <- select(health2, idcol, fIRQ:lIRQ, fSTAIS:lSTAIS)
names(health2) <- c("subjID", IRQ_names, STAIS_names)
health2 <- health2[-c(1:2), ]
health2$Study <- 10
health3 <- read.csv("raw_surveys/Health_Pol_Pilot_V3.csv")
### note that the columns were named with duplicates in this file... ###
### you'll need to go into the excel file and rename these survey start and ###
### end columns by hand... ###
idcol <- "MTurkCode"
fIRQ <- "IRQ_1"
lIRQ <- "IRQ_16"
fSTAIS <- "STAI_S1"
lSTAIS <- "STAI_S20"
fEQ <- "EQ_1"
lEQ <- "EQ_28"
fNEO <- "NEO_1"
lNEO <- "NEO_60"
health3 <- dplyr::select(health3, idcol, fIRQ:lIRQ, fSTAIS:lSTAIS, fEQ:lEQ, fNEO:lNEO)
names(health3) <- c("subjID", IRQ_names, STAIS_names, EQ_names, NEO_names)
health3 <- health3[-c(1:2), ]
health3$Study <- 11
health <- rbind.fill(health1, health2)
health <- rbind.fill(health, health3)
rm(health1, health2, health3)
}
### read in the health & pol subjects ###
health1 <- read.csv("raw_surveys/Health_Pol_Pilot_V1.csv")
idcol <- "MTurkCode"
fIRQ <- "Q387_1"
lIRQ <- "Q387_16"
health1$version <- ifelse(health1$Q204 == "POSITIVE" || "NEGATIVE", "A",
ifelse(health1$Q305 == "POSITIVE" || "NEGATIVE", "B",
""))
health1$version <- ifelse(health1$Q204 == "POSITIVE" | "NEGATIVE", "A",
ifelse(health1$Q305 == "POSITIVE" | "NEGATIVE", "B",
""))
health1$version <- ifelse((health1$Q204 == "POSITIVE" | "NEGATIVE"), "A",
ifelse((health1$Q305 == "POSITIVE" | "NEGATIVE"), "B",
""))
health1$version <- ifelse((health1$Q204 == "POSITIVE" || "NEGATIVE"), "A",
ifelse((health1$Q305 == "POSITIVE" || "NEGATIVE"), "B",
""))
health1$version <- ifelse(health1$Q204 %in% c("POSITIVE" , "NEGATIVE"), "A",
ifelse(health1$Q305 %in% c("POSITIVE", "NEGATIVE"), "B",
""))
health1.a <- select(health1, "q205":"q298")
f <- "q205"
l <- "q298"
health1.a <- select(health1, f:l)
rlang::last_error()
f <- "Q205"
l <- "Q298"
health1.a <- select(health1, f:l)
View(health1.a)
f <- "Q204"
l <- "Q298"
health1.a <- select(health1, idcol, f:l)
health1.a <- health1 %>% filter_all(any_vars(. != ""))
View(health1.a)
health1.a <- health1.a %>% filter_all(any_vars(. != ""))
health1.a <- select(subset(health1, version == "A"), idcol, f:l)
health1.a <- health1.a %>% filter_all(any_vars(. != ""))
f <- "Q305"
l <- "Q400"
health1.b <- select(subset(health1, version == "B"), idcol, f:l)
health1.b <- health1.b %>% filter_all(any_vars(. != ""))
health1.keep <- rbind(health1.a, health1.b)
health1.keep <- rbind.fill(health1.a, health1.b)
View(health1.keep)
health1$version <- ifelse(health1$Q204 %in% c("POSITIVE" , "NEGATIVE"), "A",
ifelse(health1$Q305 %in% c("POSITIVE", "NEGATIVE"), "B",
""))
f <- "Q204"
l <- "Q298"
health1.a <- select(subset(health1, version == "A"), idcol, f:l)
health1.a <- health1.a %>% filter_all(any_vars(. != ''))
f <- "Q305"
l <- "Q400"
health1.b <- select(subset(health1, version == "B"), idcol, f:l)
health1.b <- health1.b %>% filter_all(any_vars(. != ''))
health1.keep <- rbind.fill(health1.a, health1.b)
View(health1.keep)
health1.b <- select(subset(health1, version == "B"), idcol, f:l)
health1.b <- health1.b %>% filter_all(any_vars(., != ""))
health1.a <- na.omit(health1.a)
health1.a <- complete.cases(health1.a)
health1.a <- select(subset(health1, version == "A"), idcol, f:l)
health1.a <- health1.a %>% filter_all(any_vars(. != ''))
View(health1.a)
f <- "Q204"
l <- "Q298"
health1.a <- select(subset(health1, version == "A"), idcol, f:l)
health1.a <- health1.a %>% filter_all(any_vars(. != ''))
health1.a <- complete.cases(health1.a)
print(health1.a)
health1.a <- recode("" = NA)
health1.a <- recode(health1.a, "" = NA)
health1.a <- recode(health1.a, '' = NA)
recode(health1.a, '' = NA)
recode(health1.a,  ' ' = NA)
health1.a[health1.a==""] <- NA
f <- "Q204"
l <- "Q298"
health1.a <- select(subset(health1, version == "A"), idcol, f:l)
health1.a <- health1.a %>% filter_all(any_vars(. != ''))
health1.a[health1.a==""] <- NA
health1.a <- na.omit(health1.a)
f <- "Q305"
l <- "Q400"
health1.b <- select(subset(health1, version == "B"), idcol, f:l)
health1.b <- health1.b %>% filter_all(any_vars())
health1.b[health1.b==""] <- NA
health1.b <- na.omit(health1.b)
health1.keep <- rbind.fill(health1.a, health1.b)
View(health1.b)
View(health1.a)
